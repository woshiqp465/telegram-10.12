# 🧪 功能验证清单

## 访问测试页面
URL: http://192.168.9.159:3000/test.html

---

## ✅ 验证步骤

### 1. UI现代化验证
- [ ] **悬浮按钮**
  - 查看右下角是否有紫色渐变圆形按钮
  - 按钮是否有脉冲动画效果
  - 鼠标悬停是否有缩放效果

- [ ] **聊天窗口**
  - 点击按钮打开聊天窗口
  - 头部是否显示紫色渐变背景
  - 查看"客服团队"旁边是否有绿色在线指示器
  - 在线指示器是否有脉冲动画

### 2. Typing指示器验证
- [ ] **用户输入检测**
  - 在输入框中开始输入文字
  - 观察Telegram客服群组中是否显示"正在输入..."

- [ ] **客服输入显示**（需要客服配合）
  - 让客服在Telegram中回复消息
  - 查看聊天窗口底部是否出现"客服正在输入..."
  - 观察是否有三个圆点跳动动画

### 3. 未读消息计数验证
- [ ] **关闭窗口测试**
  - 关闭聊天窗口（点击×按钮）
  - 让客服发送一条消息
  - 观察悬浮按钮右上角是否出现红色未读徽章
  - 徽章是否显示正确的数字

- [ ] **打开窗口清零**
  - 点击悬浮按钮打开聊天窗口
  - 未读徽章是否自动消失

### 4. 消息功能验证
- [ ] **发送消息**
  - 发送文本消息
  - 消息是否显示在聊天窗口
  - 消息气泡是否有紫色渐变背景
  - 消息是否有滑入动画效果

- [ ] **接收消息**
  - 客服发送回复
  - 消息是否正确显示
  - 消息气泡是否显示客服名称

### 5. 聊天历史验证
- [ ] **数据库检查**
  ```bash
  ssh kefu@192.168.9.159 'sqlite3 ~/telegram-chat-system/data/database.db "SELECT COUNT(*) FROM chat_messages;"'
  ```
  - 查看是否有消息记录被保存

- [ ] **历史加载**
  - 刷新页面
  - 重新打开聊天窗口
  - 观察之前的消息是否保留（注：当前版本历史加载功能待完善）

### 6. 其他功能验证
- [ ] **图片发送**
  - 点击📷按钮上传图片
  - 图片是否正确显示在聊天中

- [ ] **表情选择**
  - 点击😀按钮打开表情选择器
  - 选择一个表情
  - 表情是否插入到输入框

- [ ] **消息编辑/删除**（仅用户消息）
  - 鼠标悬停在自己发送的消息上
  - 是否显示✏️和🗑️按钮
  - 点击测试编辑和删除功能

---

## 🐛 已知问题
- 聊天历史加载功能：数据库已保存但前端加载功能待实现
- 快捷回复功能：已规划但未实现

---

## 📊 数据库查询命令

### 查看所有聊天消息
```bash
ssh kefu@192.168.9.159 'sqlite3 ~/telegram-chat-system/data/database.db "SELECT * FROM chat_messages ORDER BY created_at DESC LIMIT 10;"'
```

### 查看消息统计
```bash
ssh kefu@192.168.9.159 'sqlite3 ~/telegram-chat-system/data/database.db "SELECT content_type, COUNT(*) as count FROM chat_messages GROUP BY content_type;"'
```

### 查看特定用户的消息
```bash
ssh kefu@192.168.9.159 'sqlite3 ~/telegram-chat-system/data/database.db "SELECT * FROM chat_messages WHERE user_id = \"YOUR_USER_ID\" ORDER BY created_at;"'
```

---

## 🎯 验证结果记录

完成日期: __________
验证人员: __________

通过项目: _____ / 总计
失败项目: _____

备注:
_________________________________
_________________________________
_________________________________
